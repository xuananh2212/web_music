import { removeAccents } from "./string";

const vietnameseToEnglishMap: { [key: string]: string } = {
  â: "aa",
  ă: "aw",
  á: "as",
  à: "af",
  ả: "ar",
  ã: "ax",
  ạ: "aj",
  ấ: "aa",
  ầ: "aa",
  ẩ: "aa",
  ẫ: "aa",
  ậ: "aa",
  ắ: "aw",
  ằ: "aw",
  ẳ: "aw",
  ẵ: "aw",
  ặ: "aw",
  đ: "dd",
  ê: "ee",
  é: "es",
  è: "ef",
  ẻ: "er",
  ẽ: "ex",
  ẹ: "ej",
  ế: "ee",
  ề: "ee",
  ể: "ee",
  ễ: "ee",
  ệ: "ee",
  í: "is",
  ì: "if",
  ỉ: "ir",
  ĩ: "ix",
  ị: "ij",
  ô: "oo",
  ó: "os",
  ò: "of",
  ỏ: "or",
  õ: "ox",
  ọ: "oj",
  ố: "oos",
  ồ: "oof",
  ổ: "oor",
  ỗ: "oox",
  ộ: "ooj",
  ơ: "ow",
  ớ: "ows",
  ờ: "owf",
  ở: "owr",
  ỡ: "owx",
  ợ: "owj",
  ư: "uw",
  ứ: "uws",
  ừ: "uwf",
  ử: "uwr",
  ữ: "uwx",
  ự: "uwj",
  ú: "us",
  ù: "uf",
  ủ: "ur",
  ũ: "ux",
  ụ: "uj",
  ý: "ys",
  ỳ: "yf",
  ỷ: "yr",
  ỹ: "yx",
  ỵ: "yj",
  Â: "AA",
  Ă: "AW",
  Á: "AS",
  À: "AF",
  Ả: "AR",
  Ã: "AX",
  Ạ: "AJ",
  Ấ: "AA",
  Ầ: "AA",
  Ẩ: "AA",
  Ẫ: "AA",
  Ậ: "AA",
  Ắ: "AW",
  Ằ: "AW",
  Ẳ: "AW",
  Ẵ: "AW",
  Ặ: "AW",
  Đ: "DD",
  Ê: "EE",
  É: "ES",
  È: "EF",
  Ẻ: "ER",
  Ẽ: "EX",
  Ẹ: "EJ",
  Ế: "EE",
  Ề: "EE",
  Ể: "EE",
  Ễ: "EE",
  Ệ: "EE",
  Í: "IS",
  Ì: "IF",
  Ỉ: "IR",
  Ĩ: "IX",
  Ị: "IJ",
  Ô: "OO",
  Ó: "OS",
  Ò: "OF",
  Ỏ: "OR",
  Õ: "OX",
  Ọ: "OJ",
  Ố: "OOS",
  Ồ: "OOF",
  Ổ: "OOR",
  Ỗ: "OOX",
  Ộ: "OOJ",
  Ơ: "OW",
  Ớ: "OWS",
  Ờ: "OWF",
  Ở: "OWR",
  Ỡ: "OWX",
  Ợ: "OWJ",
  Ư: "UW",
  Ứ: "UWS",
  Ừ: "UWF",
  Ử: "UWR",
  Ữ: "UWX",
  Ự: "UWJ",
  Ú: "US",
  Ù: "UF",
  Ủ: "UR",
  Ũ: "UX",
  Ụ: "UJ",
  Ý: "YS",
  Ỳ: "YF",
  Ỷ: "YR",
  Ỹ: "YX",
  Ỵ: "YJ",
};

export const convertVietnameseToEnglish = (str: string): string => {
  return str
    .split("")
    .map((char) => vietnameseToEnglishMap[char] || char)
    .join("");
};

export function processInput(text: string): string {
  // Loại bỏ khoảng trắng
  text = text.replace(/\s+/g, "");

  // Loại bỏ các ký tự không phải tiếng Anh và loại bỏ dấu
  text = removeAccents(text);

  // Giữ lại các ký tự tiếng Anh
  text = text.replace(/[^a-zA-Z]/g, "");

  return text;
}
